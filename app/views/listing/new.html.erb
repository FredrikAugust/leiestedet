<h1>Lag en ny annonse</h1>

<%= form_for @listing, url: {action: :create} do |f| %>
  <% if @listing.errors.messages.length > 0 %>
    <div class="errors">
      <% @listing.errors.messages.each do |key, value| %>
        <% value.each do |message| %>
          <span class='error'><%= h @listing.class.human_attribute_name(key) %> <%= h message %></span>
        <% end %>
      <% end %>
    </div>
  <% end %>

  <%= f.label :title, 'Tittel' %>
  <%= f.text_field :title, autofocus: true %>

  <%= f.label :price, 'Leiepris' %>
  <%= f.number_field :price, min: 0, max: 1000000 %>

  <%= f.label :description, 'Beskrivelse' %>
  <%= f.text_area :description, class: 'materialize-textarea', placeholder:
    'Her kan du skrive en kort beskrivelse av produktet ditt, hvor lenge du vil leie det ut og og hvilken tilstand produktet er i. (Eksempel: sort jakke fra H&M, leies ut i Ã©n uke, og er pent brukt.)' %>

  <div class="file-field input-field">
    <em class='grey-text image-disclaimer'>Du kan ikke endre bildene etter at de er lastet opp</em>
    <div class="btn">
      <span>Bilder</span>
      <%= f.file_field :listingimages, multiple: true %>
    </div>
    <div class="file-path-wrapper">
      <input class="file-path validate" type="text" placeholder="Last opp et eller fler bilder">
    </div>
  </div>

  <%= f.submit 'Opprett annonse', class: 'btn' %>
<% end %>
